
# 📄 要件定義書：ドキュメント自動要約＆作成アプリ

---

## 1. 概要

本アプリは、日々の業務における作業ログを記録・集積し、それらを週報・月報などのドキュメント形式に自動要約・整形するための**ローカルアプリケーション**である。オフラインで動作し、Windows環境向けに`.exe`形式で配布されることを前提とする。

---

## 2. 目的

- 作業ログを効率的に集計・整形・要約することにより、報告書作成業務を大幅に省力化
- テンプレート選択によりフォーマットの一貫性を担保
- 出力形式を柔軟に選択可能とし、他部門・取引先との情報共有を円滑にする

---

## 3. 動作環境・制約

| 項目 | 内容 |
|------|------|
| 対応OS | Windows 10 / 11 |
| 実行形式 | 単体 `.exe` ファイル |
| ネットワーク要件 | オフライン動作（完全ローカル） |
| 外部依存 | なし（オープンソースライブラリのみ使用） |
| 言語 | 日本語対応必須 |

---

## 4. 機能要件

### 4.1 作業ログ入力機能
- 日ごとの作業内容をプレーンテキストで貼り付け、保存可能
- 入力フォームはGUI上に表示
- 日付単位でローカルに保存（例：YYYY-MM-DD.json）

### 4.2 テンプレート選択機能
- あらかじめ用意されたテンプレートから形式を選択可能
    - 日報／週報／月報／業務報告書／進捗報告書 など
- テンプレート構造はJSONまたはYAML形式でユーザー定義可能

### 4.3 自動要約機能
- 作業ログから重要語句・文章を抽出して簡潔に要約
- 以下2種の方式に対応予定：
    - TextRankベースの抽出型要約（初期実装）
    - ローカルLLMによる生成型要約（オプション）

### 4.4 集計・整形機能
- 保存された作業ログを週単位・月単位で一括取得し、要約
- テンプレートに応じてレイアウト・構成を整形
- マークダウンまたは内部構造で中間整形され、出力処理に渡す

### 4.5 ファイル出力機能
- 以下のフォーマットで出力対応：
    - `.txt`（プレーンテキスト）
    - `.csv`（表形式）
    - `.xlsx`（Excel帳票）
    - `.docx`（Word文書）
- 出力先ディレクトリをGUIで指定可能

---

## 5. 非機能要件

| 項目 | 内容 |
|------|------|
| 実行速度 | 1週間分のログで10秒以内の要約処理完了 |
| セキュリティ | 完全ローカル処理、インターネット通信不要 |
| 操作性 | GUIは最小限の操作で処理完結可能な構成 |
| 可搬性 | USB等での持ち運び・別端末利用も可（設定はローカルに保存） |

---

## 6. 使用予定ライブラリ（無料）

| 分類 | ライブラリ | 用途 |
|------|-------------|------|
| GUI | Tkinter または PySide6 | ユーザーインターフェース |
| 要約 | sumy（TextRank）, llama.cpp | 抽出・生成型要約 |
| 出力 | openpyxl, python-docx, csv | 各種ファイル出力処理 |
| exe化 | pyinstaller | 単体アプリ作成 |

---

## 7. スケジュール（案）

| フェーズ | 内容 | 期間（目安） |
|----------|------|---------------|
| 設計・仕様確定 | テンプレートと構造の詳細設計 | 1週間 |
| プロトタイプ開発 | CLI版 or 簡易GUI実装 | 1〜2週間 |
| 要約機能実装 | TextRank実装＋チューニング | 1週間 |
| ファイル出力実装 | 各形式の出力実装と整形処理 | 1週間 |
| GUI統合・exe化 | PyInstallerによる配布対応 | 1週間 |

---

## 8. 留意点

- 高精度要約が必要な場合、軽量LLMでも実行時間・メモリ使用量に注意が必要
- GUIは初期はシンプルに、後からテンプレート拡張・装飾を段階的に導入する
- 外部のAPIを使わず、完全にオフラインで完結する構成を維持する
