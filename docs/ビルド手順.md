# 実行ファイル（.exe）ビルド手順

## 概要
このドキュメントは、「ドキュメント自動要約&作成アプリ」をWindows実行ファイル（.exe）として配布するためのビルド手順を説明します。

## 前提条件
- Python 3.13以上がインストールされている
- 必要なライブラリがインストールされている（requirements.txtを参照）
- PyInstallerがインストールされている

## 手順

### 1. PyInstallerのインストール
```bash
python -m pip install pyinstaller
```

### 2. 実行ファイルのビルド
以下のコマンドを実行してください：

```bash
pyinstaller --onefile --windowed --add-data "config;config" --add-data "templates;templates" --path src --hidden-import gui.main_window --hidden-import utils.config_manager --hidden-import utils.logger --hidden-import core.data_manager --hidden-import core.summarizer --hidden-import core.template_engine --clean --name "AutoMakeDocument" main.py
```

### 3. オプション説明
- `--onefile`: 単一の実行ファイルを生成
- `--windowed`: GUIアプリケーションとして実行（コンソールウィンドウを表示しない）
- `--add-data "config;config"`: configディレクトリを実行ファイルに含める
- `--add-data "templates;templates"`: templatesディレクトリを実行ファイルに含める
- `--path src`: srcディレクトリをPythonパスに追加
- `--hidden-import`: 必要なモジュールを明示的に指定
- `--clean`: 前回のビルドファイルをクリーンアップ
- `--name "AutoMakeDocument"`: 生成される実行ファイル名

### 4. 生成されるファイル
ビルドが完了すると、以下のファイルが生成されます：
- `dist/AutoMakeDocument.exe`: 実行ファイル（約93MB）
- `build/`: ビルド中間ファイル（削除可能）
- `AutoMakeDocument.spec`: PyInstallerの設定ファイル

### 5. 配布
`dist/AutoMakeDocument.exe`を他のPCにコピーするだけで動作します。
Pythonがインストールされていない環境でも動作します。

## 注意事項
- 実行ファイルのサイズは約93MBです
- 初回起動時は少し時間がかかる場合があります
- ウイルス対策ソフトが実行ファイルをブロックする場合があります

## トラブルシューティング

### モジュール不足エラー
新しいモジュールを追加した場合は、`--hidden-import`オプションに追加してください。

### データファイル不足エラー
新しいデータディレクトリを追加した場合は、`--add-data`オプションに追加してください。

### パフォーマンス問題
実行ファイルのサイズを小さくしたい場合は、`--exclude-module`オプションで不要なモジュールを除外することができます。

## 自動化スクリプト
`build.bat`ファイルを作成して、ビルドプロセスを自動化することもできます。

## 日付
- 作成日: 2025年7月5日
- 最終更新: 2025年7月5日 